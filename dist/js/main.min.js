$(function() {
  var timeline = new TimelineLite({ delay: 1 }),
    $width = $(window).innerWidth() + "px",
    $london = $(".london"),
    $paris = $(".paris");

  // TODO: Grayscale won't work in IE.
  timeline
    .to($london.find(".description"), 3, { left: "12vw", autoAlpha: 1 })
    .to($london.find(".location"), 3, { left: "12vw", autoAlpha: 1 }, "-=1.5")
    .to($london, 3, { onUpdate: tweenGrayscale, onUpdateParams: ["{self}", 100, 0] }, "-=3")
    .to($london.find(".rectangle"), 2, { right: "2vw" })
    .from($paris, 2, { x: $width }, "+=7");

  function tweenGrayscale(timeline, start, end) {
    var progress = Math.floor(timeline.progress() * 100),
      value = start - progress;

    TweenMax.set(timeline.target, {'-webkit-filter': 'grayscale(' + value + '%)', 'filter': 'grayscale(' + value + '%)'});
  }
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJtYWluLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIiQoZnVuY3Rpb24oKSB7XG4gIHZhciB0aW1lbGluZSA9IG5ldyBUaW1lbGluZUxpdGUoeyBkZWxheTogMSB9KSxcbiAgICAkd2lkdGggPSAkKHdpbmRvdykuaW5uZXJXaWR0aCgpICsgXCJweFwiLFxuICAgICRsb25kb24gPSAkKFwiLmxvbmRvblwiKSxcbiAgICAkcGFyaXMgPSAkKFwiLnBhcmlzXCIpO1xuXG4gIC8vIFRPRE86IEdyYXlzY2FsZSB3b24ndCB3b3JrIGluIElFLlxuICB0aW1lbGluZVxuICAgIC50bygkbG9uZG9uLmZpbmQoXCIuZGVzY3JpcHRpb25cIiksIDMsIHsgbGVmdDogXCIxMnZ3XCIsIGF1dG9BbHBoYTogMSB9KVxuICAgIC50bygkbG9uZG9uLmZpbmQoXCIubG9jYXRpb25cIiksIDMsIHsgbGVmdDogXCIxMnZ3XCIsIGF1dG9BbHBoYTogMSB9LCBcIi09MS41XCIpXG4gICAgLnRvKCRsb25kb24sIDMsIHsgb25VcGRhdGU6IHR3ZWVuR3JheXNjYWxlLCBvblVwZGF0ZVBhcmFtczogW1wie3NlbGZ9XCIsIDEwMCwgMF0gfSwgXCItPTNcIilcbiAgICAudG8oJGxvbmRvbi5maW5kKFwiLnJlY3RhbmdsZVwiKSwgMiwgeyByaWdodDogXCIydndcIiB9KVxuICAgIC5mcm9tKCRwYXJpcywgMiwgeyB4OiAkd2lkdGggfSwgXCIrPTdcIik7XG5cbiAgZnVuY3Rpb24gdHdlZW5HcmF5c2NhbGUodGltZWxpbmUsIHN0YXJ0LCBlbmQpIHtcbiAgICB2YXIgcHJvZ3Jlc3MgPSBNYXRoLmZsb29yKHRpbWVsaW5lLnByb2dyZXNzKCkgKiAxMDApLFxuICAgICAgdmFsdWUgPSBzdGFydCAtIHByb2dyZXNzO1xuXG4gICAgVHdlZW5NYXguc2V0KHRpbWVsaW5lLnRhcmdldCwgeyctd2Via2l0LWZpbHRlcic6ICdncmF5c2NhbGUoJyArIHZhbHVlICsgJyUpJywgJ2ZpbHRlcic6ICdncmF5c2NhbGUoJyArIHZhbHVlICsgJyUpJ30pO1xuICB9XG59KTtcbiJdLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
